{"ast":null,"code":"// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl = async url => {\n  const API = '/api/shorten'; // use dev-server proxy (relative URL)\n\n  try {\n    const res = await fetch(API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        url\n      })\n    });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`CleanURI error: ${res.status} ${text}`);\n    }\n    const data = await res.json();\n    if (!data || !data.result_url) {\n      throw new Error('Invalid response from CleanURI');\n    }\n    const id = Date.now().toString(36) + Math.random().toString(36).slice(2, 6);\n    const shortUrl = data.result_url;\n    return {\n      id,\n      url,\n      shortUrl\n    };\n  } catch (err) {\n    throw err;\n  }\n};","map":{"version":3,"names":["shortenUrl","url","API","res","fetch","method","headers","body","JSON","stringify","ok","text","Error","status","data","json","result_url","id","Date","now","toString","Math","random","slice","shortUrl","err"],"sources":["C:/Users/mukad/Downloads/url-shortening-api-master/url-shortening-api-master/url-shortener-react/src/api/shorten.js"],"sourcesContent":["// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl = async(url) => {\n    const API = '/api/shorten'; // use dev-server proxy (relative URL)\n\n    try {\n        const res = await fetch(API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ url }),\n        });\n\n        if (!res.ok) {\n            const text = await res.text();\n            throw new Error(`CleanURI error: ${res.status} ${text}`);\n        }\n\n        const data = await res.json();\n        if (!data || !data.result_url) {\n            throw new Error('Invalid response from CleanURI');\n        }\n\n        const id = Date.now().toString(36) + Math.random().toString(36).slice(2, 6);\n        const shortUrl = data.result_url;\n\n        return { id, url, shortUrl };\n    } catch (err) {\n        throw err;\n    }\n};"],"mappings":"AAAA;AACA,OAAO,MAAMA,UAAU,GAAG,MAAMC,GAAG,IAAK;EACpC,MAAMC,GAAG,GAAG,cAAc,CAAC,CAAC;;EAE5B,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;MACzBG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER;MAAI,CAAC;IAChC,CAAC,CAAC;IAEF,IAAI,CAACE,GAAG,CAACO,EAAE,EAAE;MACT,MAAMC,IAAI,GAAG,MAAMR,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7B,MAAM,IAAIC,KAAK,CAAC,mBAAmBT,GAAG,CAACU,MAAM,IAAIF,IAAI,EAAE,CAAC;IAC5D;IAEA,MAAMG,IAAI,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,CAAC;IAC7B,IAAI,CAACD,IAAI,IAAI,CAACA,IAAI,CAACE,UAAU,EAAE;MAC3B,MAAM,IAAIJ,KAAK,CAAC,gCAAgC,CAAC;IACrD;IAEA,MAAMK,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,EAAE,CAAC,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3E,MAAMC,QAAQ,GAAGV,IAAI,CAACE,UAAU;IAEhC,OAAO;MAAEC,EAAE;MAAEhB,GAAG;MAAEuB;IAAS,CAAC;EAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV,MAAMA,GAAG;EACb;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}