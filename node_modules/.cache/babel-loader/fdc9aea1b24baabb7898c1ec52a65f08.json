{"ast":null,"code":"// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl = async url => {\n  const API = 'https://cleanuri.com/api/v1/shorten';\n  try {\n    const params = new URLSearchParams();\n    params.append('url', url);\n    const res = await fetch(API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n      },\n      body: params.toString()\n    });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`CleanURI error: ${res.status} ${text}`);\n    }\n    const data = await res.json();\n    // CleanURI returns { result_url: \"https://...\" } on success\n    if (!data || !data.result_url) {\n      throw new Error('Invalid response from CleanURI');\n    }\n    const id = Date.now().toString(36) + Math.random().toString(36).slice(2, 6);\n    const shortUrl = data.result_url;\n    return {\n      id,\n      url,\n      shortUrl\n    };\n  } catch (err) {\n    // Rethrow so callers (UrlForm) can show an error\n    throw err;\n  }\n};","map":{"version":3,"names":["shortenUrl","url","API","params","URLSearchParams","append","res","fetch","method","headers","body","toString","ok","text","Error","status","data","json","result_url","id","Date","now","Math","random","slice","shortUrl","err"],"sources":["C:/Users/mukad/Downloads/url-shortening-api-master/url-shortening-api-master/url-shortener-react/src/api/shorten.js"],"sourcesContent":["// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl = async(url) => {\n    const API = 'https://cleanuri.com/api/v1/shorten';\n    try {\n        const params = new URLSearchParams();\n        params.append('url', url);\n\n        const res = await fetch(API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n            },\n            body: params.toString(),\n        });\n\n        if (!res.ok) {\n            const text = await res.text();\n            throw new Error(`CleanURI error: ${res.status} ${text}`);\n        }\n\n        const data = await res.json();\n        // CleanURI returns { result_url: \"https://...\" } on success\n        if (!data || !data.result_url) {\n            throw new Error('Invalid response from CleanURI');\n        }\n\n        const id = Date.now().toString(36) + Math.random().toString(36).slice(2, 6);\n        const shortUrl = data.result_url;\n\n        return { id, url, shortUrl };\n    } catch (err) {\n        // Rethrow so callers (UrlForm) can show an error\n        throw err;\n    }\n};"],"mappings":"AAAA;AACA,OAAO,MAAMA,UAAU,GAAG,MAAMC,GAAG,IAAK;EACpC,MAAMC,GAAG,GAAG,qCAAqC;EACjD,IAAI;IACA,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpCD,MAAM,CAACE,MAAM,CAAC,KAAK,EAAEJ,GAAG,CAAC;IAEzB,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAACL,GAAG,EAAE;MACzBM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEP,MAAM,CAACQ,QAAQ,CAAC;IAC1B,CAAC,CAAC;IAEF,IAAI,CAACL,GAAG,CAACM,EAAE,EAAE;MACT,MAAMC,IAAI,GAAG,MAAMP,GAAG,CAACO,IAAI,CAAC,CAAC;MAC7B,MAAM,IAAIC,KAAK,CAAC,mBAAmBR,GAAG,CAACS,MAAM,IAAIF,IAAI,EAAE,CAAC;IAC5D;IAEA,MAAMG,IAAI,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,CAAC;IAC7B;IACA,IAAI,CAACD,IAAI,IAAI,CAACA,IAAI,CAACE,UAAU,EAAE;MAC3B,MAAM,IAAIJ,KAAK,CAAC,gCAAgC,CAAC;IACrD;IAEA,MAAMK,EAAE,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACV,QAAQ,CAAC,EAAE,CAAC,GAAGW,IAAI,CAACC,MAAM,CAAC,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CAACa,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAC3E,MAAMC,QAAQ,GAAGT,IAAI,CAACE,UAAU;IAEhC,OAAO;MAAEC,EAAE;MAAElB,GAAG;MAAEwB;IAAS,CAAC;EAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACV;IACA,MAAMA,GAAG;EACb;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}