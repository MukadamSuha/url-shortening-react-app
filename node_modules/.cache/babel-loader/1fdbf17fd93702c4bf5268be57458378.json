{"ast":null,"code":"// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl=async url=>{const API='https://cleanuri.com/api/v1/shorten';try{const params=new URLSearchParams();params.append('url',url);const res=await fetch(API,{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},body:params.toString()});if(!res.ok){const text=await res.text();throw new Error(\"CleanURI error: \".concat(res.status,\" \").concat(text));}const data=await res.json();// CleanURI returns { result_url: \"https://...\" } on success\nif(!data||!data.result_url){throw new Error('Invalid response from CleanURI');}const id=Date.now().toString(36)+Math.random().toString(36).slice(2,6);const shortUrl=data.result_url;return{id,url,shortUrl};}catch(err){// Rethrow so callers (UrlForm) can show an error\nthrow err;}};","map":{"version":3,"names":["shortenUrl","url","API","params","URLSearchParams","append","res","fetch","method","headers","body","toString","ok","text","Error","concat","status","data","json","result_url","id","Date","now","Math","random","slice","shortUrl","err"],"sources":["C:/Users/mukad/Downloads/url-shortening-api-master/url-shortening-api-master/url-shortener-react/src/api/shorten.js"],"sourcesContent":["// Use CleanURI (https://cleanuri.com/docs) to shorten URLs without adding axios\nexport const shortenUrl = async(url) => {\n    const API = 'https://cleanuri.com/api/v1/shorten';\n    try {\n        const params = new URLSearchParams();\n        params.append('url', url);\n\n        const res = await fetch(API, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n            },\n            body: params.toString(),\n        });\n\n        if (!res.ok) {\n            const text = await res.text();\n            throw new Error(`CleanURI error: ${res.status} ${text}`);\n        }\n\n        const data = await res.json();\n        // CleanURI returns { result_url: \"https://...\" } on success\n        if (!data || !data.result_url) {\n            throw new Error('Invalid response from CleanURI');\n        }\n\n        const id = Date.now().toString(36) + Math.random().toString(36).slice(2, 6);\n        const shortUrl = data.result_url;\n\n        return { id, url, shortUrl };\n    } catch (err) {\n        // Rethrow so callers (UrlForm) can show an error\n        throw err;\n    }\n};"],"mappings":"AAAA;AACA,MAAO,MAAM,CAAAA,UAAU,CAAG,KAAM,CAAAC,GAAG,EAAK,CACpC,KAAM,CAAAC,GAAG,CAAG,qCAAqC,CACjD,GAAI,CACA,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAAC,CAAC,CACpCD,MAAM,CAACE,MAAM,CAAC,KAAK,CAAEJ,GAAG,CAAC,CAEzB,KAAM,CAAAK,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACL,GAAG,CAAE,CACzBM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,iDACpB,CAAC,CACDC,IAAI,CAAEP,MAAM,CAACQ,QAAQ,CAAC,CAC1B,CAAC,CAAC,CAEF,GAAI,CAACL,GAAG,CAACM,EAAE,CAAE,CACT,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,GAAG,CAACO,IAAI,CAAC,CAAC,CAC7B,KAAM,IAAI,CAAAC,KAAK,oBAAAC,MAAA,CAAoBT,GAAG,CAACU,MAAM,MAAAD,MAAA,CAAIF,IAAI,CAAE,CAAC,CAC5D,CAEA,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAX,GAAG,CAACY,IAAI,CAAC,CAAC,CAC7B;AACA,GAAI,CAACD,IAAI,EAAI,CAACA,IAAI,CAACE,UAAU,CAAE,CAC3B,KAAM,IAAI,CAAAL,KAAK,CAAC,gCAAgC,CAAC,CACrD,CAEA,KAAM,CAAAM,EAAE,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACX,QAAQ,CAAC,EAAE,CAAC,CAAGY,IAAI,CAACC,MAAM,CAAC,CAAC,CAACb,QAAQ,CAAC,EAAE,CAAC,CAACc,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3E,KAAM,CAAAC,QAAQ,CAAGT,IAAI,CAACE,UAAU,CAEhC,MAAO,CAAEC,EAAE,CAAEnB,GAAG,CAAEyB,QAAS,CAAC,CAChC,CAAE,MAAOC,GAAG,CAAE,CACV;AACA,KAAM,CAAAA,GAAG,CACb,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}